# Реализация обогащенных комментариев пользователя

## Что было реализовано:

### 1. Добавлен метод `getReviewById` в `reviewsService.ts`
- Создан новый метод для получения отзыва по ID
- Добавлена логика для получения названия манги из отзыва
- Включена обработка ошибок с возвратом заглушки при неудаче

### 2. Расширен `ApiClient` в `api.ts`
- Добавлен метод `getReviewById` для централизованного доступа к API
- Добавлены предупреждения о недокументированности GET метода для отзывов

### 3. Создан новый хук `useEnhancedUserComments`
- Заменяет базовый `useUserComments` с расширенной функциональностью
- Получает дополнительную информацию о целях комментариев:
  - **MANGA**: название манги
  - **CHAPTER**: название манги + номер главы
  - **PROFILE**: имя пользователя
  - **REVIEW**: "Отзыв к манге [название]"
- Включает обработку ошибок для каждого типа цели
- Обогащает данные о родительских комментариях

### 4. Обновлен компонент `UserComments` в `ShowcaseModules.tsx`
- Использует новый хук `useEnhancedUserComments`
- Отображает обогащенную информацию о целях комментариев
- Показывает название манги, номер главы, имя пользователя профиля
- Улучшенное отображение с подзаголовками для глав

## Логика работы:

### Для комментариев типа MANGA:
1. Использует `targetId` из `CommentResponseDTO`
2. Вызывает `GET /api/manga/{id}`
3. Отображает название манги

### Для комментариев типа CHAPTER:
1. Использует `targetId` из `CommentResponseDTO`
2. Вызывает `GET /api/chapters/{id}` для получения информации о главе
3. Использует `mangaId` из ответа для вызова `GET /api/manga/{id}`
4. Отображает "Название манги - Глава X"

### Для комментариев типа PROFILE:
1. Использует `targetId` из `CommentResponseDTO`
2. Вызывает `GET /api/auth/users/{id}`
3. Отображает "@username"

### Для комментариев типа REVIEW:
1. Использует `targetId` из `CommentResponseDTO`
2. Пытается вызвать `GET /api/auth/reviews/{reviewId}` (метод может быть недокументирован)
3. Получает `mangaTitle` из ответа
4. Отображает "Отзыв к манге [название]"

## Обработка ошибок:
- Каждый API вызов обернут в try-catch
- При ошибках отображаются базовые названия типа "Манга #123"
- Логирование предупреждений в консоль для отладки

## Примечания:
- GET метод для `/api/auth/reviews/{reviewId}` не задокументирован в API, но код пытается его использовать
- Если метод недоступен, отображается базовая информация "Отзыв #ID"
- Все новые функции совместимы с существующим кодом
- Сохранена обратная совместимость через опциональные поля
