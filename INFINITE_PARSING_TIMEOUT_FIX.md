# –£–¥–∞–ª–µ–Ω–∏–µ —Ç–∞–π–º–∞—É—Ç–æ–≤ –¥–ª—è –¥–æ–ª–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –ø–∞—Ä—Å–∏–Ω–≥–∞

## üéØ –ü—Ä–æ–±–ª–µ–º–∞

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –º–∞–Ω–≥–∏ —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –≥–ª–∞–≤ –º–æ–≥—É—Ç –ø–∞—Ä—Å–∏—Ç—å—Å—è **100+ –º–∏–Ω—É—Ç**, –Ω–æ —Å–∏—Å—Ç–µ–º–∞ –∏–º–µ–ª–∞ –∂—ë—Å—Ç–∫–∏–µ —Ç–∞–π–º–∞—É—Ç—ã:
- `waitForTaskCompletion`: 10 –º–∏–Ω—É—Ç (300 –ø–æ–ø—ã—Ç–æ–∫ √ó 2—Å)
- `waitForFullParsingCompletion`: 10 –º–∏–Ω—É—Ç
- `waitForImportCompletion`: 10 –º–∏–Ω—É—Ç

–ü–æ—Å–ª–µ 10 –º–∏–Ω—É—Ç –æ–∂–∏–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∞ –ø–æ–º–µ—á–∞–ª–∞—Å—å –∫–∞–∫ FAILED —Å –æ—à–∏–±–∫–æ–π "–ü—Ä–µ–≤—ã—à–µ–Ω–æ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è", —Ö–æ—Ç—è –ø–∞—Ä—Å–∏–Ω–≥ –ø—Ä–æ–¥–æ–ª–∂–∞–ª —Ä–∞–±–æ—Ç–∞—Ç—å.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ: –ë–µ—Å–∫–æ–Ω–µ—á–Ω–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º

### 1. MelonIntegrationService.waitForTaskCompletion

**–§–∞–π–ª:** `MangaService/src/main/java/.../service/MelonIntegrationService.java`

**–ë–´–õ–û:**
```java
int maxAttempts = 300; // 10 –º–∏–Ω—É—Ç –º–∞–∫—Å–∏–º—É–º
int attempts = 0;

do {
    Thread.sleep(2000);
    status = getTaskStatus(taskId);
    attempts++;

    if (attempts >= maxAttempts) {  // ‚ùå –¢–ê–ô–ú–ê–£–¢!
        return Map.of("status", "failed", 
            "message", "–ü—Ä–µ–≤—ã—à–µ–Ω–æ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è");
    }
} while (status != null && !"completed".equals(status.get("status")) 
                        && !"failed".equals(status.get("status")));
```

**–°–¢–ê–õ–û:**
```java
int attempts = 0; // –ë–ï–ó —Ç–∞–π–º–∞—É—Ç–∞ - –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –º–∞–Ω–≥–∏ –ø–∞—Ä—Å—è—Ç—Å—è 100+ –º–∏–Ω—É—Ç

do {
    Thread.sleep(2000);
    status = getTaskStatus(taskId);
    attempts++;

    // –õ–æ–≥–∏—Ä—É–µ–º –∫–∞–∂–¥—ã–µ 30 –ø—Ä–æ–≤–µ—Ä–æ–∫ (1 –º–∏–Ω—É—Ç–∞)
    if (attempts % 30 == 0) {
        int minutes = attempts * 2 / 60;
        logger.info("–û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ {}: {}min, —Å—Ç–∞—Ç—É—Å: {}", 
            taskId, minutes, status != null ? status.get("status") : "null");
    }
} while (status != null && !"completed".equals(status.get("status")) 
                        && !"failed".equals(status.get("status")));

logger.info("–ó–∞–¥–∞—á–∞ {} –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –ø–æ—Å–ª–µ {}s, —Å—Ç–∞—Ç—É—Å: {}", 
    taskId, attempts * 2, status != null ? status.get("status") : "null");
```

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –£–¥–∞–ª–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `maxAttempts`
- ‚úÖ –£–¥–∞–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `if (attempts >= maxAttempts)`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –æ–±—â–∏–º –≤—Ä–µ–º–µ–Ω–µ–º

### 2. AutoParsingService.waitForFullParsingCompletion

**–§–∞–π–ª:** `MangaService/src/main/java/.../service/AutoParsingService.java`

**–ë–´–õ–û:**
```java
int maxAttempts = 300; // 10 –º–∏–Ω—É—Ç –º–∞–∫—Å–∏–º—É–º
int attempts = 0;

while (attempts < maxAttempts) {  // ‚ùå –û–ì–†–ê–ù–ò–ß–ï–ù–ò–ï!
    Thread.sleep(2000);
    Map<String, Object> status = melonService.getFullParsingTaskStatus(taskId);
    
    if (status != null && "completed".equals(status.get("status"))) {
        return true;
    }
    // ...
    attempts++;
}

logger.error("–ü—Ä–µ–≤—ã—à–µ–Ω–æ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è");  // ‚ùå –û–®–ò–ë–ö–ê
return false;
```

**–°–¢–ê–õ–û:**
```java
int attempts = 0;

while (true) {  // ‚úÖ –ë–ï–°–ö–û–ù–ï–ß–ù–´–ô –¶–ò–ö–õ
    Thread.sleep(2000);
    Map<String, Object> status = melonService.getFullParsingTaskStatus(taskId);
    
    if (status != null && "completed".equals(status.get("status"))) {
        logger.info("–ü–æ–ª–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ –∑–∞–≤–µ—Ä—à–µ–Ω —É—Å–ø–µ—à–Ω–æ –ø–æ—Å–ª–µ {} –ø–æ–ø—ã—Ç–æ–∫ ({}s)", 
            attempts, attempts * 2);
        return true;
    }
    
    if (status != null && "failed".equals(status.get("status"))) {
        logger.error("–ü–æ–ª–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —Å –æ—à–∏–±–∫–æ–π –ø–æ—Å–ª–µ {} –ø–æ–ø—ã—Ç–æ–∫: {}", 
            attempts, status.get("message"));
        return false;
    }
    
    attempts++;
    
    // –õ–æ–≥–∏—Ä—É–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
    if (attempts % 30 == 0) {
        int minutes = attempts * 2 / 60;
        logger.info("–û–∂–∏–¥–∞–Ω–∏–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ {}: {} –º–∏–Ω—É—Ç, –ø—Ä–æ–≥—Ä–µ—Å—Å: {}%", 
            taskId, minutes, status != null ? status.get("progress") : "?");
    }
}
```

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ `while (attempts < maxAttempts)` ‚Üí `while (true)`
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ `completed/failed` –≤–º–µ—Å—Ç–æ —Ç–∞–π–º–∞—É—Ç–∞
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞—Ç—Ä–∞—á–µ–Ω–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏

### 3. AutoParsingService.waitForImportCompletion

**–ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
```java
while (true) {  // ‚úÖ –ë–ï–°–ö–û–ù–ï–ß–ù–´–ô –¶–ò–ö–õ
    Thread.sleep(2000);
    Map<String, Object> status = melonService.getImportTaskStatus(taskId);
    
    if (status != null && "completed".equals(status.get("status"))) {
        logger.info("–ò–º–ø–æ—Ä—Ç –∑–∞–≤–µ—Ä—à–µ–Ω —É—Å–ø–µ—à–Ω–æ –ø–æ—Å–ª–µ {} –ø–æ–ø—ã—Ç–æ–∫ ({}s)", 
            attempts, attempts * 2);
        return true;
    }
    
    if (status != null && "failed".equals(status.get("status"))) {
        logger.error("–ò–º–ø–æ—Ä—Ç –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —Å –æ—à–∏–±–∫–æ–π –ø–æ—Å–ª–µ {} –ø–æ–ø—ã—Ç–æ–∫: {}", 
            attempts, status.get("message"));
        return false;
    }
    
    attempts++;
    
    if (attempts % 30 == 0) {
        int minutes = attempts * 2 / 60;
        logger.info("–û–∂–∏–¥–∞–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–∞ {}: {} –º–∏–Ω—É—Ç, –ø—Ä–æ–≥—Ä–µ—Å—Å: {}%", 
            taskId, minutes, status != null ? status.get("progress") : "?");
    }
}
```

## üìä –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

### –ü–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å –ª–æ–≥–æ–≤:
- **–ö–∞–∂–¥—ã–µ 30 –ø—Ä–æ–≤–µ—Ä–æ–∫** = 1 –º–∏–Ω—É—Ç–∞ (30 √ó 2 —Å–µ–∫—É–Ω–¥—ã)
- **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç:** elapsed time (–º–∏–Ω—É—Ç—ã), —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å, –ø—Ä–æ–≥—Ä–µ—Å—Å %

### –ü—Ä–∏–º–µ—Ä –ª–æ–≥–æ–≤ –¥–ª—è 100-–º–∏–Ω—É—Ç–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞:

```
17:40:00 INFO  –ó–∞–ø—É—Å–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–ª—è slug: very-long-manga
17:40:00 INFO  –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ parse-123: 0min, —Å—Ç–∞—Ç—É—Å: running
17:41:00 INFO  –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ parse-123: 1min, —Å—Ç–∞—Ç—É—Å: running
17:42:00 INFO  –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ parse-123: 2min, —Å—Ç–∞—Ç—É—Å: running
...
18:40:00 INFO  –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ parse-123: 60min, —Å—Ç–∞—Ç—É—Å: running
19:20:00 INFO  –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ parse-123: 100min, —Å—Ç–∞—Ç—É—Å: running
19:20:15 INFO  –ó–∞–¥–∞—á–∞ parse-123 –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –ø–æ—Å–ª–µ 6015s, —Å—Ç–∞—Ç—É—Å: completed
19:20:15 INFO  –ü–æ–ª–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ –∑–∞–≤–µ—Ä—à–µ–Ω —É—Å–ø–µ—à–Ω–æ –ø–æ—Å–ª–µ 3008 –ø–æ–ø—ã—Ç–æ–∫ (6016s)
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
1. ‚úÖ **–í–∏–¥–∏–º–æ—Å—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å–∞** - –ø–æ–Ω—è—Ç–Ω–æ, —á—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –∏–¥—ë—Ç
2. ‚úÖ **–ù–µ—Ç —Å–ø–∞–º–∞** - –ª–æ–≥–∏ —Ä–∞–∑ –≤ –º–∏–Ω—É—Ç—É, –Ω–µ –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã
3. ‚úÖ **–¢–æ—á–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - —Å–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–Ω—è–ª –ø–∞—Ä—Å–∏–Ω–≥
4. ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —É–ø–∞–¥—ë–º –ø–æ —Ç–∞–π–º–∞—É—Ç—É

## üîÑ –õ–æ–≥–∏–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

### –ú–µ—Ç–æ–¥—ã –∂–¥—É—Ç –¢–û–õ–¨–ö–û —Å—Ç–∞—Ç—É—Å—ã:
- `completed` ‚Üí —É—Å–ø–µ—Ö, –≤–æ–∑–≤—Ä–∞—Ç `true`
- `failed` ‚Üí –æ—à–∏–±–∫–∞, –≤–æ–∑–≤—Ä–∞—Ç `false`
- `running/pending` ‚Üí –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –∂–¥–∞—Ç—å

### –ù–∏–∫–∞–∫–∏—Ö —Ç–∞–π–º–∞—É—Ç–æ–≤:
- ‚ùå –ù–µ—Ç `maxAttempts`
- ‚ùå –ù–µ—Ç `if (time > limit)`
- ‚úÖ –¢–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∏–∑ MelonService

## ‚ö†Ô∏è –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —Ä–∏—Å–∫–∏ –∏ –º–µ—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –†–∏—Å–∫: –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª –µ—Å–ª–∏ —Å—Ç–∞—Ç—É—Å –∑–∞–≤–∏—Å–Ω–µ—Ç
**–ó–∞—â–∏—Ç–∞:**
- MelonService –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `completed` –∏–ª–∏ `failed` –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã
- –ï—Å–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å –ø–∞–¥–∞–µ—Ç, —Å—Ç–∞—Ç—É—Å –æ—Å—Ç–∞—ë—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏ –∫–∞–∫ –ø–æ—Å–ª–µ–¥–Ω–∏–π –∏–∑–≤–µ—Å—Ç–Ω—ã–π
- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å emergency timeout (–Ω–∞–ø—Ä–∏–º–µ—Ä, 24 —á–∞—Å–∞) –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

### –†–∏—Å–∫: –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
**–ó–∞—â–∏—Ç–∞:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑ –≤ 2 —Å–µ–∫—É–Ω–¥—ã (–Ω–µ –Ω–∞–≥—Ä—É–∂–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É)
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ (`@Async`)
- Thread.sleep –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –¥—Ä—É–≥–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

### –†–∏—Å–∫: –ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ —Ç—Ä–µ–¥–æ–≤
**–ó–∞—â–∏—Ç–∞:**
- Spring Thread Pool —É–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ø–æ—Ç–æ–∫–æ–≤
- –ö–∞–∂–¥–∞—è –∑–∞–¥–∞—á–∞ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç —Ä–µ—Å—É—Ä—Å—ã –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- `@Async` –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å –±—ã—Å—Ç—Ä–æ–π –º–∞–Ω–≥–æ–π (5 –º–∏–Ω—É—Ç):
```bash
# –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ–ø–∞—Ä—Å–∏–Ω–≥–∞
curl -X POST http://localhost:8080/api/parser/auto-parse \
  -H "Content-Type: application/json" \
  -d '{"page": 1, "limit": 1}'

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
docker logs aniway-reload-manga-service-1 -f | grep "–û–∂–∏–¥–∞–Ω–∏–µ"
```

**–û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏:**
```
–û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ xxx: 1min, —Å—Ç–∞—Ç—É—Å: running
–û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ xxx: 2min, —Å—Ç–∞—Ç—É—Å: running
–û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ xxx: 3min, —Å—Ç–∞—Ç—É—Å: running
–û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ xxx: 4min, —Å—Ç–∞—Ç—É—Å: running
–ó–∞–¥–∞—á–∞ xxx –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –ø–æ—Å–ª–µ 300s, —Å—Ç–∞—Ç—É—Å: completed
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å –¥–æ–ª–≥–æ–π –º–∞–Ω–≥–æ–π (100+ –º–∏–Ω—É—Ç):
```bash
# –í—ã–±—Ä–∞—Ç—å –º–∞–Ω–≥—É —Å 500+ –≥–ª–∞–≤–∞–º–∏
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥
# –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ª–æ–≥–∏

# –ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫ "–ü—Ä–µ–≤—ã—à–µ–Ω–æ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è"!
docker logs aniway-reload-manga-service-1 -f | grep -E "(–ü—Ä–µ–≤—ã—à–µ–Ω–æ|–û–∂–∏–¥–∞–Ω–∏–µ)"
```

## üìù –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. ‚úÖ `MelonIntegrationService.java` - —É–±—Ä–∞–Ω —Ç–∞–π–º–∞—É—Ç –∏–∑ `waitForTaskCompletion`
2. ‚úÖ `AutoParsingService.java` - —É–±—Ä–∞–Ω—ã —Ç–∞–π–º–∞—É—Ç—ã –∏–∑ `waitForFullParsingCompletion` –∏ `waitForImportCompletion`

## üöÄ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

```bash
# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å MangaService
docker compose -f docker-compose.dev.yml up -d --build manga-service

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker logs aniway-reload-manga-service-1 --tail=100
```

## üìà –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

**–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```
ERROR - –ü—Ä–µ–≤—ã—à–µ–Ω–æ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ (10 –º–∏–Ω—É—Ç)
STATUS: failed ‚ùå
```

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```
INFO - –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ parse-123: 15min, —Å—Ç–∞—Ç—É—Å: running
INFO - –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ parse-123: 45min, —Å—Ç–∞—Ç—É—Å: running
INFO - –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ parse-123: 95min, —Å—Ç–∞—Ç—É—Å: running
INFO - –ó–∞–¥–∞—á–∞ parse-123 –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –ø–æ—Å–ª–µ 5700s, —Å—Ç–∞—Ç—É—Å: completed
STATUS: completed ‚úÖ
```

## üéØ –ò—Ç–æ–≥

- ‚úÖ **–ù–µ—Ç —Ç–∞–π–º–∞—É—Ç–æ–≤** - –º–∞–Ω–≥–∏ –ª—é–±–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –ø–∞—Ä—Å—è—Ç—Å—è –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- ‚úÖ **–í–∏–¥–∏–º–æ—Å—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å–∞** - –ª–æ–≥–∏ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
- ‚úÖ **–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å** - —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –ø–∞–¥–∞–µ—Ç –ø—Ä–∏ –¥–æ–ª–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –ø–æ —Å—Ç–∞—Ç—É—Å—É completed/failed
