# –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π AniWay

## –û–±–∑–æ—Ä

–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã AniWay –≤–∫–ª—é—á–∞–µ—Ç:
- üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
- üìö –°–∏—Å—Ç–µ–º—É –∑–∞–∫–ª–∞–¥–æ–∫ —Å 5 —Å—Ç–∞—Ç—É—Å–∞–º–∏
- üìñ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —á—Ç–µ–Ω–∏—è
- üë§ –ü—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üõ°Ô∏è –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π –¥–æ—Å—Ç—É–ø
- üåç –†–æ–ª—å –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫–∞
- üîç –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### Backend (Spring Boot)
- **AuthService**: –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å JWT
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL (auth_postgres)
- **–¢–∞–±–ª–∏—Ü—ã**: users, bookmarks, reading_progress
- **Gateway**: Spring Cloud Gateway —Å –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–µ–π

### Frontend (React/TypeScript)
- **–ö–æ–Ω—Ç–µ–∫—Å—Ç**: AuthContext –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- **–•—É–∫–∏**: useBookmarks, useProgress –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**: –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **–°—Ç—Ä–∞–Ω–∏—Ü—ã**: –ü—Ä–æ—Ñ–∏–ª—å, –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

## –§—É–Ω–∫—Ü–∏–∏

### 1. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –í—Ö–æ–¥ —Å JWT —Ç–æ–∫–µ–Ω–∞–º–∏
- –†–æ–ª–∏: USER, ADMIN, TRANSLATOR
- –ó–∞—â–∏—â—ë–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã

### 2. –°–∏—Å—Ç–µ–º–∞ –∑–∞–∫–ª–∞–¥–æ–∫
–°—Ç–∞—Ç—É—Å—ã —á—Ç–µ–Ω–∏—è:
- **–ß–∏—Ç–∞—é** (READING) - –ê–∫—Ç–∏–≤–Ω–æ —á–∏—Ç–∞–µ–º—ã–µ –º–∞–Ω–≥–∏
- **–ë—É–¥—É —á–∏—Ç–∞—Ç—å** (PLAN_TO_READ) - –í –ø–ª–∞–Ω–∞—Ö –∫ –ø—Ä–æ—á—Ç–µ–Ω–∏—é
- **–ü—Ä–æ—á–∏—Ç–∞–Ω–æ** (COMPLETED) - –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ
- **–û—Ç–ª–æ–∂–µ–Ω–æ** (ON_HOLD) - –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ
- **–ë—Ä–æ—à–µ–Ω–æ** (DROPPED) - –ë–æ–ª—å—à–µ –Ω–µ —á–∏—Ç–∞—é
- **–õ—é–±–∏–º–æ–µ** - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –æ—Ç–º–µ—Ç–∫–∞ –¥–ª—è –ª—é–±—ã—Ö —Å—Ç–∞—Ç—É—Å–æ–≤

### 3. –ü—Ä–æ–≥—Ä–µ—Å—Å —á—Ç–µ–Ω–∏—è
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü –ø–æ –≥–ª–∞–≤–∞–º
- –ü–æ—Å–ª–µ–¥–Ω—è—è –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è
- –ü—Ä–æ—Ü–µ–Ω—Ç –ø—Ä–æ—á—Ç–µ–Ω–∏—è –º–∞–Ω–≥–∏
- –ò—Å—Ç–æ—Ä–∏—è —á—Ç–µ–Ω–∏—è

### 4. –ü—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- –ê–≤–∞—Ç–∞—Ä –∏ –±–∏–æ–≥—Ä–∞—Ñ–∏—è
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —á—Ç–µ–Ω–∏—è
- –õ—é–±–∏–º—ã–µ –∂–∞–Ω—Ä—ã

### 5. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- –ú–æ–¥–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –°–∏—Å—Ç–µ–º–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

## API Endpoints

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
```
POST /api/auth/register - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
POST /api/auth/login - –í—Ö–æ–¥
GET /api/users/me - –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
PUT /api/users/me - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
```

### –ó–∞–∫–ª–∞–¥–∫–∏
```
GET /api/bookmarks - –í—Å–µ –∑–∞–∫–ª–∞–¥–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
POST /api/bookmarks - –°–æ–∑–¥–∞—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å –∑–∞–∫–ª–∞–¥–∫—É
DELETE /api/bookmarks/{mangaId} - –£–¥–∞–ª–∏—Ç—å –∑–∞–∫–ª–∞–¥–∫—É
GET /api/bookmarks/status/{status} - –ü–æ —Å—Ç–∞—Ç—É—Å—É
GET /api/bookmarks/favorites - –ò–∑–±—Ä–∞–Ω–Ω—ã–µ
```

### –ü—Ä–æ–≥—Ä–µ—Å—Å —á—Ç–µ–Ω–∏—è
```
GET /api/progress - –í–µ—Å—å –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
POST /api/progress - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å
GET /api/progress/manga/{mangaId} - –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –º–∞–Ω–≥–µ
GET /api/progress/chapter/{chapterId} - –ü—Ä–æ–≥—Ä–µ—Å—Å –≥–ª–∞–≤—ã
DELETE /api/progress/chapter/{chapterId} - –£–¥–∞–ª–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è AuthProvider
```tsx
import { AuthProvider } from './contexts/AuthContext'

function App() {
  return (
    <AuthProvider>
      {/* –í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ */}
    </AuthProvider>
  )
}
```

### 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ö—É–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
```tsx
import { useAuth } from './contexts/AuthContext'

function MyComponent() {
  const { user, isAuthenticated, login, logout } = useAuth()
  
  if (!isAuthenticated) {
    return <div>–í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É</div>
  }
  
  return <div>–ü—Ä–∏–≤–µ—Ç, {user.username}!</div>
}
```

### 3. –ó–∞—â–∏—â—ë–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã
```tsx
import { ProtectedRoute } from './contexts/AuthContext'

<Route path="/admin" element={
  <ProtectedRoute requireAdmin>
    <AdminPage />
  </ProtectedRoute>
} />
```

### 4. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∑–∞–∫–ª–∞–¥–æ–∫
```tsx
import { BookmarkControls } from './components/bookmarks/BookmarkControls'

<BookmarkControls mangaId={mangaId} />
```

### 5. –ü—Ä–æ–≥—Ä–µ—Å—Å —á—Ç–µ–Ω–∏—è
```tsx
import { ReadingProgressBar } from './components/progress/ReadingProgress'

<ReadingProgressBar 
  mangaId={mangaId} 
  totalChapters={manga.totalChapters} 
/>
```

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### Auth
- `LoginForm` - –§–æ—Ä–º–∞ –≤—Ö–æ–¥–∞
- `RegisterForm` - –§–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏  
- `UserMenu` - –ú–µ–Ω—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ header

### Bookmarks
- `BookmarkControls` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–ª–∞–¥–∫–∞–º–∏
- `BookmarkBadge` - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞

### Progress
- `ReadingProgressBar` - –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –º–∞–Ω–≥–µ
- `ChapterProgress` - –ü—Ä–æ–≥—Ä–µ—Å—Å –≥–ª–∞–≤—ã
- `LastReadChapter` - –ü–æ—Å–ª–µ–¥–Ω—è—è –≥–ª–∞–≤–∞
- `RecentlyRead` - –ù–µ–¥–∞–≤–Ω–æ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω–æ–µ

## –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è

–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ–¥ —Ç—ë–º–Ω—É—é —Ç–µ–º—É AniWay:
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ–º—ã
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–µ

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- JWT —Ç–æ–∫–µ–Ω—ã —Å –∏—Å—Ç–µ—á–µ–Ω–∏–µ–º —Å—Ä–æ–∫–∞
- –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –∏ —Å–µ—Ä–≤–µ—Ä–µ
- –ó–∞—â–∏—Ç–∞ –æ—Ç CSRF
- –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π (bcrypt)

## –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ AuthService –∑–∞–ø—É—â–µ–Ω
2. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö auth_postgres –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
3. Gateway –º–∞—Ä—à—Ä—É—Ç—ã —Å–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω—ã
4. Frontend —Å–æ–±—Ä–∞–Ω —Å –Ω–æ–≤—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

## –î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ

- [ ] –°–æ—Ü–∏–∞–ª—å–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (Google, Discord)
- [ ] Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- [ ] –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
- [ ] –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π
- [ ] –≠–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫
- [ ] API –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
