# ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –¢–ó

## üìã –í–∞—à–µ –¢–ó

### 1. –ê–≤—Ç–æ–ø–∞—Ä—Å–∏–Ω–≥
**–ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:** –ü–æ –∫–Ω–æ–ø–∫–µ –≤–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ  
**–î–ª—è –∫–∞–∂–¥–æ–π –º–∞–Ω–≥–∏ (slug):**
1. **–ü–∞—Ä—Å–∏—Ç** (–∏–∑ MangaLib)
2. **–ë–∏–ª–¥–∏—Ç** (—Å–∫–∞—á–∏–≤–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
3. **–ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç** –≤ –≤–∞—à—É —Å–∏—Å—Ç–µ–º—É

### 2. –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
**–ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:** –ü–æ –∫–Ω–æ–ø–∫–µ –≤–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ  
**–†–∞–±–æ—Ç–∞–µ—Ç:** –° –º–∞–Ω–≥–∞–º–∏, —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –≤ –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º–µ  
**–ü—Ä–æ–≤–µ—Ä—è–µ—Ç:** –ù–∞–ª–∏—á–∏–µ –Ω–æ–≤—ã—Ö –≥–ª–∞–≤ –∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –∏—Ö

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### 1. –ê–≤—Ç–æ–ø–∞—Ä—Å–∏–Ω–≥ - **–ü–û–õ–ù–û–°–¢–¨–Æ –°–û–û–¢–í–ï–¢–°–¢–í–£–ï–¢ –¢–ó**

#### –§–∞–π–ª: `AutoParsingService.java`

**–¶–∏–∫–ª –æ–±—Ä–∞–±–æ—Ç–∫–∏ (—Å—Ç—Ä–æ–∫–∏ 107-180):**
```java
for (int i = 0; i < slugs.size(); i++) {
    String slug = slugs.get(i);
    
    // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–∞
    if (mangaRepository.existsByMelonSlug(slug)) {
        logger.info("–ú–∞–Ω–≥–∞ —Å slug '{}' —É–∂–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º", slug);
        task.skippedSlugs.add(slug);
        continue;
    }

    // 2. –ü–ê–†–°–ò–ù–ì + –ë–ò–õ–î–ò–ù–ì (–ø–æ–ª–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥)
    Map<String, Object> parseResult = melonService.startFullParsing(slug);
    // ‚Üì –≠–¢–û –í–ê–ñ–ù–û: startFullParsing –¥–µ–ª–∞–µ—Ç:
    //   - startParsing() ‚Üí –ø–∞—Ä—Å–∏—Ç JSON –∏–∑ MangaLib
    //   - buildManga() ‚Üí —Å–∫–∞—á–∏–≤–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
    
    String parseTaskId = (String) parseResult.get("task_id");
    boolean completed = waitForFullParsingCompletion(parseTaskId);
    
    if (completed) {
        // 3. –ò–ú–ü–û–†–¢ –í –°–ò–°–¢–ï–ú–£
        Map<String, Object> importResult = melonService.importToSystemAsync(slug, null);
        String importTaskId = (String) importResult.get("taskId");
        boolean importCompleted = waitForImportCompletion(importTaskId);
        
        if (importCompleted) {
            // 4. –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑ Melon –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞
            melonService.deleteManga(slug);
            task.importedSlugs.add(slug);
            logger.info("–ú–∞–Ω–≥–∞ '{}' —É—Å–ø–µ—à–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞", slug);
        }
    }
}
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç `startFullParsing()` –≤ MelonIntegrationService (—Å—Ç—Ä–æ–∫–∏ 106-126):**
```java
public Map<String, Object> startFullParsing(String slug) {
    // 1. –ü–ê–†–°–ò–ù–ì JSON
    Map<String, Object> parseResult = startParsing(slug);
    String parseTaskId = (String) parseResult.get("task_id");
    
    // 2. –ó–ê–ü–£–°–ö –ë–ò–õ–î–ò–ù–ì–ê (–≤ async)
    fullParsingTaskRunner.startFullParsingTask(this, fullParsingTaskId, parseTaskId, slug);
    
    // –í–Ω—É—Ç—Ä–∏ startFullParsingTask:
    // - –ñ–¥–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON
    // - –ó–∞–ø—É—Å–∫–∞–µ—Ç buildManga(slug) ‚Üí —Å–∫–∞—á–∏–≤–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
    // - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å "completed" –∫–æ–≥–¥–∞ –≤—Å–µ –≥–æ—Ç–æ–≤–æ
}
```

#### ‚úÖ –í–´–í–û–î: –ê–≤—Ç–æ–ø–∞—Ä—Å–∏–Ω–≥ –¥–µ–ª–∞–µ—Ç **—Ä–æ–≤–Ω–æ —Ç–æ, —á—Ç–æ –≤—ã –ø—Ä–æ—Å–∏–ª–∏**:
1. ‚úÖ –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ –∫–Ω–æ–ø–∫–µ
2. ‚úÖ –î–ª—è –∫–∞–∂–¥–æ–≥–æ slug –ø–∞—Ä—Å–∏—Ç (JSON –∏–∑ MangaLib)
3. ‚úÖ –ë–∏–ª–¥–∏—Ç (—Å–∫–∞—á–∏–≤–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
4. ‚úÖ –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –≤ –≤–∞—à—É —Å–∏—Å—Ç–µ–º—É
5. ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã —á–µ—Ä–µ–∑ `melonSlug`

---

### 2. –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ - **–ü–û–õ–ù–û–°–¢–¨–Æ –°–û–û–¢–í–ï–¢–°–¢–í–£–ï–¢ –¢–ó**

#### –§–∞–π–ª: `MangaUpdateService.java`

**–ü–æ–ª—É—á–µ–Ω–∏–µ –º–∞–Ω–≥ –∏–∑ –í–ê–®–ï–ô —Å–∏—Å—Ç–µ–º—ã (—Å—Ç—Ä–æ–∫–∏ 57-59):**
```java
// –ü–û–õ–£–ß–ê–ï–ú –ú–ê–ù–ì–ò –ò–ó –í–ê–®–ï–ô –ë–î (–Ω–µ –ø–∞—Ä—Å–∏–º –Ω–æ–≤—ã–µ!)
List<Manga> mangaList = mangaRepository.findAll().stream()
    .filter(m -> m.getMelonSlug() != null && !m.getMelonSlug().isEmpty())
    .collect(Collectors.toList());
```

**–¶–∏–∫–ª –æ–±—Ä–∞–±–æ—Ç–∫–∏ (—Å—Ç—Ä–æ–∫–∏ 127-177):**
```java
for (int i = 0; i < mangaList.size(); i++) {
    Manga manga = mangaList.get(i);  // ‚Üê –ú–ê–ù–ì–ê –ò–ó –í–ê–®–ï–ô –°–ò–°–¢–ï–ú–´
    String slug = manga.getMelonSlug();
    
    // 1. –ü–æ–ª—É—á–∞–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –≥–ª–∞–≤—ã –∏–∑ –í–ê–®–ï–ô –ë–î
    Set<Double> existingChapterNumbers = getExistingChapterNumbers(manga.getId());
    
    // 2. –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ MelonService
    Map<String, Object> updateInfo = checkForUpdates(slug, existingChapterNumbers);
    //    ‚Üë –≠—Ç–æ –ø–∞—Ä—Å–∏—Ç –º–∞–Ω–≥ÔøΩÔøΩ –∑–∞–Ω–æ–≤–æ –∏ —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ –ù–û–í–´–ï –≥–ª–∞–≤—ã
    
    if (updateInfo != null && updateInfo.get("has_updates") == true) {
        List<Map<String, Object>> newChapters = updateInfo.get("new_chapters");
        
        // 3. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –¢–û–õ–¨–ö–û –Ω–æ–≤—ã–µ –≥–ª–∞–≤—ã
        boolean success = parseAndImportNewChapters(
            slug, 
            manga.getId(),  // ‚Üê ID –º–∞–Ω–≥–∏ –∏–∑ –í–ê–®–ï–ô —Å–∏—Å—Ç–µ–º—ã
            newChapters, 
            mangaInfoFromUpdate
        );
        
        if (success) {
            task.updatedMangas.add(manga.getTitle());
            task.newChaptersCount += newChapters.size();
            
            // 4. –£–¥–∞–ª—è–µ–º –∏–∑ Melon –ø–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞
            melonService.deleteManga(slug);
        }
    }
}
```

**–ú–µ—Ç–æ–¥ `checkForUpdates()` (—Å—Ç—Ä–æ–∫–∏ 226-290):**
```java
private Map<String, Object> checkForUpdates(String slug, Set<Double> existingChapterNumbers) {
    // 1. –ó–∞–ø—É—Å–∫–∞–µ–º –ø–∞—Ä—Å–∏–Ω–≥ –º–∞–Ω–≥–∏ (—á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≥–ª–∞–≤)
    Map<String, Object> parseResult = melonService.startParsing(slug);
    String taskId = parseResult.get("task_id");
    
    // 2. –ñ–¥–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–∞—Ä—Å–∏–Ω–≥–∞
    waitForTaskCompletion(taskId);
    
    // 3. –ü–æ–ª—É—á–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –º–∞–Ω–≥–µ
    Map<String, Object> mangaInfo = melonService.getMangaInfo(slug);
    
    // 4. –§–∏–ª—å—Ç—Ä—É–µ–º –¢–û–õ–¨–ö–û –Ω–æ–≤—ã–µ –≥–ª–∞–≤—ã (–∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ existingChapterNumbers)
    List<Map<String, Object>> allChapters = new ArrayList<>();
    Map<String, Object> content = mangaInfo.get("content");
    
    for (Map.Entry<String, Object> branchEntry : content.entrySet()) {
        List<Map<String, Object>> branchChapters = branchEntry.getValue();
        
        for (Map<String, Object> chapter : branchChapters) {
            double chapterNum = calculateChapterNumber(chapter);
            
            // –ü–†–û–í–ï–†–ö–ê: —ç—Ç–æ –Ω–æ–≤–∞—è –≥–ª–∞–≤–∞?
            if (!existingChapterNumbers.contains(chapterNum)) {
                allChapters.add(chapter);  // ‚Üê –î–æ–±–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ
            }
        }
    }
    
    return Map.of(
        "has_updates", !allChapters.isEmpty(),
        "new_chapters", allChapters,  // ‚Üê –¢–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ –≥–ª–∞–≤—ã
        "manga_info", mangaInfo
    );
}
```

#### ‚úÖ –í–´–í–û–î: –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–µ–ª–∞–µ—Ç **—Ä–æ–≤–Ω–æ —Ç–æ, —á—Ç–æ –≤—ã –ø—Ä–æ—Å–∏–ª–∏**:
1. ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å –º–∞–Ω–≥–∞–º–∏ –∏–∑ –í–ê–®–ï–ô —Å–∏—Å—Ç–µ–º—ã (`mangaRepository.findAll()`)
2. ‚úÖ –ü–æ–ª—É—á–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –≥–ª–∞–≤—ã –∏–∑ –í–ê–®–ï–ô –ë–î
3. ‚úÖ –ü–∞—Ä—Å–∏—Ç –º–∞–Ω–≥—É –∑–∞–Ω–æ–≤–æ, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≥–ª–∞–≤
4. ‚úÖ –§–∏–ª—å—Ç—Ä—É–µ—Ç –¢–û–õ–¨–ö–û –Ω–æ–≤—ã–µ –≥–ª–∞–≤—ã (–∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ –ë–î)
5. ‚úÖ –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ –≥–ª–∞–≤—ã

---

## üîÑ –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ—Ç–æ–∫–æ–≤

### –ê–≤—Ç–æ–ø–∞—Ä—Å–∏–Ω–≥
```
–§—Ä–æ–Ω—Ç–µ–Ω–¥: –ö–Ω–æ–ø–∫–∞ "–ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ–ø–∞—Ä—Å–∏–Ω–≥"
   ‚Üì
Backend: AutoParsingService.startAutoParsing(slugs)
   ‚Üì
–î–ª—è –∫–∞–∂–¥–æ–≥–æ slug:
   ‚îú‚îÄ 1. –ü—Ä–æ–≤–µ—Ä–∫–∞: mangaRepository.existsByMelonSlug(slug)
   ‚îÇ     ‚Üí –ï—Å–ª–∏ TRUE ‚Üí –ü–†–û–ü–£–°–¢–ò–¢–¨ (—É–∂–µ –µ—Å—Ç—å –≤ —Å–∏—Å—Ç–µ–º–µ)
   ‚îÇ     ‚Üí –ï—Å–ª–∏ FALSE ‚Üí –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å ‚Üì
   ‚îÇ
   ‚îú‚îÄ 2. –ü–ê–†–°–ò–ù–ì + –ë–ò–õ–î–ò–ù–ì: melonService.startFullParsing(slug)
   ‚îÇ     ‚îú‚îÄ startParsing() ‚Üí –ø–∞—Ä—Å–∏—Ç JSON –∏–∑ MangaLib
   ‚îÇ     ‚îî‚îÄ buildManga() ‚Üí —Å–∫–∞—á–∏–≤–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
   ‚îÇ
   ‚îú‚îÄ 3. –ò–ú–ü–û–†–¢: melonService.importToSystemAsync(slug)
   ‚îÇ     ‚îî‚îÄ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –º–∞–Ω–≥—É + –≥–ª–∞–≤—ã + —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –í–ê–®–£ –ë–î
   ‚îÇ     ‚îî‚îÄ –ö–†–ò–¢–ò–ß–ù–û: manga.setMelonSlug(slug) ‚úÖ
   ‚îÇ
   ‚îî‚îÄ 4. –û–ß–ò–°–¢–ö–ê: melonService.deleteManga(slug)
         ‚îî‚îÄ –£–¥–∞–ª—è–µ—Ç –∏–∑ Melon –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞
```

### –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
```
–§—Ä–æ–Ω—Ç–µ–Ω–¥: –ö–Ω–æ–ø–∫–∞ "–ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ"
   ‚Üì
Backend: MangaUpdateService.startAutoUpdate()
   ‚Üì
1. –ü–æ–ª—É—á–µ–Ω–∏–µ –º–∞–Ω–≥ –ò–ó –í–ê–®–ï–ô –°–ò–°–¢–ï–ú–´:
   mangaRepository.findAll() ‚Üí filter(melonSlug != null)
   ‚Üì
–î–ª—è –∫–∞–∂–¥–æ–π –º–∞–Ω–≥–∏:
   ‚îú‚îÄ 2. –ü–æ–ª—É—á–∞–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –≥–ª–∞–≤—ã –ò–ó –í–ê–®–ï–ô –ë–î:
   ‚îÇ     getExistingChapterNumbers(manga.getId())
   ‚îÇ     ‚Üí Set<Double> { 1001.0, 1002.0, 1003.0, ... }
   ‚îÇ
   ‚îú‚îÄ 3. –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è: checkForUpdates(slug, existingChapters)
   ‚îÇ     ‚îú‚îÄ melonService.startParsing(slug) ‚Üí –ø–∞—Ä—Å–∏—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≥–ª–∞–≤
   ‚îÇ     ‚îú‚îÄ melonService.getMangaInfo(slug) ‚Üí –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ
   ‚îÇ     ‚îî‚îÄ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è: –æ—Å—Ç–∞–≤–ª—è–µ–º –¢–û–õ–¨–ö–û –Ω–æ–≤—ã–µ –≥–ª–∞–≤—ã
   ‚îÇ         (–∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ existingChapterNumbers)
   ‚îÇ
   ‚îú‚îÄ 4. –ï—Å–ª–∏ –µ—Å—Ç—å –Ω–æ–≤—ã–µ –≥–ª–∞–≤—ã:
   ‚îÇ     ‚îú‚îÄ parseAndImportNewChapters()
   ‚îÇ     ‚îÇ   ‚îú‚îÄ –°–æ–∑–¥–∞–Ω–∏–µ Chapter —á–µ—Ä–µ–∑ ChapterService
   ‚îÇ     ‚îÇ   ‚îî‚îÄ importChapterPages() ‚Üí –∏–º–ø–æ—Ä—Ç —Å—Ç—Ä–∞–Ω–∏—Ü
   ‚îÇ     ‚îÇ
   ‚îÇ     ‚îî‚îÄ melonService.deleteManga(slug)
   ‚îÇ
   ‚îî‚îÄ –†–µ–∑—É–ª—å—Ç–∞—Ç: task.updatedMangas.add(manga.getTitle())
```

---

## üìä –¢–∞–±–ª–∏—Ü–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –¢–ó | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è | –°—Ç–∞—Ç—É—Å |
|----------|----|-----------|----|
| **–ê–≤—Ç–æ–ø–∞—Ä—Å–∏–Ω–≥ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ –∫–Ω–æ–ø–∫–µ** | –î–∞ | `POST /api/parser/auto-parse` | ‚úÖ |
| **–ü–∞—Ä—Å–∏—Ç –º–∞–Ω–≥–∏** | –î–∞ | `melonService.startParsing()` | ‚úÖ |
| **–ë–∏–ª–¥–∏—Ç (—Å–∫–∞—á–∏–≤–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)** | –î–∞ | `buildManga()` –≤–Ω—É—Ç—Ä–∏ `startFullParsing()` | ‚úÖ |
| **–ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –≤ —Å–∏—Å—Ç–µ–º—É** | –î–∞ | `importToSystemAsync()` | ‚úÖ |
| **–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã** | –î–∞ | `existsByMelonSlug()` | ‚úÖ |
| **–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –º–∞–Ω–≥–∞–º–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã** | –î–∞ | `mangaRepository.findAll()` | ‚úÖ |
| **–ü–æ–ª—É—á–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –≥–ª–∞–≤—ã –∏–∑ –ë–î** | –î–∞ | `getExistingChapterNumbers()` | ‚úÖ |
| **–ü–∞—Ä—Å–∏—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π** | –î–∞ | `startParsing()` –≤ `checkForUpdates()` | ‚úÖ |
| **–§–∏–ª—å—Ç—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ –≥–ª–∞–≤—ã** | –î–∞ | –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å `existingChapterNumbers` | ‚úÖ |
| **–ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ –≥–ª–∞–≤—ã** | –î–∞ | `parseAndImportNewChapters()` | ‚úÖ |

---

## ‚úÖ –ò–¢–û–ì–û–í–´–ô –í–´–í–û–î

### –ê–≤—Ç–æ–ø–∞—Ä—Å–∏–Ω–≥ ‚úÖ
**–ü–û–õ–ù–û–°–¢–¨–Æ –°–û–û–¢–í–ï–¢–°–¢–í–£–ï–¢ –¢–ó:**
- ‚úÖ –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ –∫–Ω–æ–ø–∫–µ
- ‚úÖ –î–ª—è –∫–∞–∂–¥–æ–≥–æ slug –≤—ã–ø–æ–ª–Ω—è–µ—Ç: **–ü–ê–†–°–ò–ù–ì ‚Üí –ë–ò–õ–î–ò–ù–ì ‚Üí –ò–ú–ü–û–†–¢**
- ‚úÖ `startFullParsing()` = –ø–∞—Ä—Å–∏–Ω–≥ JSON + —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚úÖ `importToSystemAsync()` = —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –≤–∞—à—É –ë–î
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã —á–µ—Ä–µ–∑ `melonSlug`

### –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ ‚úÖ
**–ü–û–õ–ù–û–°–¢–¨–Æ –°–û–û–¢–í–ï–¢–°–¢–í–£–ï–¢ –¢–ó:**
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å –º–∞–Ω–≥–∞–º–∏ **–ò–ó –í–ê–®–ï–ô –°–ò–°–¢–ï–ú–´** (`mangaRepository.findAll()`)
- ‚úÖ –ü–æ–ª—É—á–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –≥–ª–∞–≤—ã **–ò–ó –í–ê–®–ï–ô –ë–î**
- ‚úÖ –ü–∞—Ä—Å–∏—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –≥–ª–∞–≤
- ‚úÖ –§–∏–ª—å—Ç—Ä—É–µ—Ç –∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç **–¢–û–õ–¨–ö–û –ù–û–í–´–ï** –≥–ª–∞–≤—ã
- ‚úÖ –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç —Å –ø–æ–ª–Ω—ã–º–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏

---

## üéØ –í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ–≥–ª–∞—Å–Ω–æ –¢–ó!

**–°—Ç–∞—Ç—É—Å:** –†–µ–∞–ª–∏–∑–∞—Ü–∏—è **–ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç** –≤–∞—à–µ–º—É —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–º—É –∑–∞–¥–∞–Ω–∏—é.

**–ó–∞–ø—É—Å–∫:**
1. –§—Ä–æ–Ω—Ç–µ–Ω–¥: `/admin/manga` ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è"
2. –ê–≤—Ç–æ–ø–∞—Ä—Å–∏–Ω–≥: –í–≤–µ–¥–∏—Ç–µ slugs ‚Üí "–ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ–ø–∞—Ä—Å–∏–Ω–≥"
3. –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: "–ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ"

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üöÄ
