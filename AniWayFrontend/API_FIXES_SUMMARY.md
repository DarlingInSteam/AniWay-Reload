# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è API –≤–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

## ‚úÖ –ù–û–í–´–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:

### ProfileService (`/src/services/profileService.ts`)
- ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–ê –û–®–ò–ë–ö–ê**: –ò–∑–º–µ–Ω–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª–µ–π –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –î–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `authService.getCurrentUser()`
- ‚úÖ –î–ª—è –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `apiClient.getUserPublicProfile()` 
- ‚úÖ –£–¥–∞–ª–µ–Ω–∞ –∏–∑–±—ã—Ç–æ—á–Ω–∞—è –ª–æ–≥–∏–∫–∞ fallback –Ω–∞ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π API

### API Client (`/src/lib/api.ts`)
- ‚úÖ **–î–û–ë–ê–í–õ–ï–ù–û –ü–û–î–†–û–ë–ù–û–ï –õ–û–ì–ò–†–û–í–ê–ù–ò–ï**: –¢–µ–ø–µ—Ä—å –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤—Å–µ API –∑–∞–ø—Ä–æ—Å—ã –∏ –æ—à–∏–±–∫–∏
- ‚úÖ –õ–æ–≥–∏—Ä—É–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ —Ç–æ–∫–µ–Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- ‚úÖ –õ–æ–≥–∏—Ä—É–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞ –∏ –¥–µ—Ç–∞–ª–∏ –æ—à–∏–±–æ–∫

### ProfileBackground –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (`/src/components/profile/ProfileBackground.tsx`)
- ‚úÖ **–£–î–ê–õ–ï–ù–ê –ö–ù–û–ü–ö–ê "–ò–∑–º–µ–Ω–∏—Ç—å —Ñ–æ–Ω"**: –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
- ‚úÖ –£–±—Ä–∞–Ω—ã –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∏–º–ø–æ—Ä—Ç—ã: Dialog, Button, Input, Camera, useState
- ‚úÖ –£–±—Ä–∞–Ω–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ backgroundUploadOpen –∏ —Ñ—É–Ω–∫—Ü–∏—è handleBackgroundUpload
- ‚úÖ –£–±—Ä–∞–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä onBackgroundUpdate –∏–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

## üîß –õ–û–ì–ò–ö–ê –†–ê–ë–û–¢–´ –° –ü–†–û–§–ò–õ–Ø–ú–ò:

### –î–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
1. `ProfileService.getUserById()` ‚Üí `authService.getCurrentUser()` ‚Üí `/api/auth/me`
2. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å —Å –ø—Ä–∏–≤–∞—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

### –î–ª—è –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
1. `ProfileService.getUserById()` ‚Üí `apiClient.getUserPublicProfile()` ‚Üí `/api/auth/users/{id}/public`
2. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø—É–±–ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª—è

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:
- –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω - –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –∏—Å–∫–ª—é—á–µ–Ω–∏–µ "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω"
- –í—Å–µ –æ—à–∏–±–∫–∏ API —Ç–µ–ø–µ—Ä—å –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç—è–º–∏
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å –∫–æ–¥ –∏ —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏

## üìã –†–ê–ù–ï–ï –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ï API:

### AuthService (`/src/services/authService.ts`)
- ‚úÖ `getCurrentUser()`: `/api/api/auth/me` ‚Üí `/api/auth/me`
- ‚úÖ `updateProfile()`: `/api/api/auth/me` ‚Üí `/api/auth/me` 
- ‚úÖ `getUserById()`: `/api/users/{id}` ‚Üí `/api/auth/users/{id}`

### BookmarkService (`/src/services/bookmarkService.ts`)
- ‚úÖ –í—Å–µ endpoints –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã: `/api/bookmarks/*`

### ReviewService (`/src/services/reviewService.ts`)
- ‚úÖ URL –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω: `/api/auth/reviews/manga/{mangaId}/rating`
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞: —É–±—Ä–∞–Ω `mangaId` –∏–∑ –æ—Ç–≤–µ—Ç–∞

### ProgressService (`/src/services/progressService.ts`)
- ‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ URLs –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã: `/api/auth/progress/*`
- ‚úÖ `getChapterProgress()` - –ø–æ–º–µ—á–µ–Ω –∫–∞–∫ –ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–ù–´–ô (endpoint –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
- ‚úÖ `deleteProgress()` - –ø–æ–º–µ—á–µ–Ω –∫–∞–∫ –ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–ù–´–ô (endpoint –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
- ‚úÖ –£–±—Ä–∞–Ω—ã `chapterId` –∏–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π (—Å–æ–≥–ª–∞—Å–Ω–æ API documentation)

### CommentService (`/src/services/commentService.ts`)
- ‚úÖ URL –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω: `/api/comments` (CommentService —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 8086)

### ApiClient (`/src/lib/api.ts`)
- ‚úÖ `getCurrentUser()`: `/api/users/me` ‚Üí `/api/auth/me`
- ‚úÖ `getUserProfile()`: `/api/users/{id}` ‚Üí `/api/auth/users/{id}`
- ‚úÖ `getUserPublicProfile()` ‚Üí `/api/auth/users/{id}/public`
- ‚úÖ `updateCurrentUserProfile()`: `/api/users/me` ‚Üí `/api/auth/me`
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã —Å–æ–∑–¥–∞–Ω–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç–∑—ã–≤–æ–≤ (–¥–æ–±–∞–≤–ª–µ–Ω `mangaId` –ø–∞—Ä–∞–º–µ—Ç—Ä)
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –ª–∞–π–∫–∏/–¥–∏–∑–ª–∞–π–∫–∏ —á–µ—Ä–µ–∑ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π API: `/api/auth/reviews/{id}/like`
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–æ–≤ —á–µ—Ä–µ–∑: `/api/auth/reviews/{id}`
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–æ–≤ –º–∞–Ω–≥–∏ —á–µ—Ä–µ–∑: `/api/auth/reviews/manga/{id}`

### MangaReviews –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (`/src/components/MangaReviews.tsx`)
- ‚úÖ `loadUserReview()` - –ø–æ–º–µ—á–µ–Ω –∫–∞–∫ –ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–ù–´–ô (endpoint `/my` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
- ‚úÖ –õ–∞–π–∫–∏/–¥–∏–∑–ª–∞–π–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã: –∏—Å–ø–æ–ª—å–∑—É—é—Ç –µ–¥–∏–Ω—ã–π endpoint `/api/auth/reviews/{id}/like` —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `isLike`

## ‚ö†Ô∏è –ù–ï –ò–ó–ú–ï–ù–ï–ù–û (—Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏):

### Parser/MelonService API
- –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ `/api/parser/*` endpoints –≤ MelonService
- –í–æ–∑–º–æ–∂–Ω–æ, –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞ –ø—Ä—è–º–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ MelonService –∏–ª–∏ —á–µ—Ä–µ–∑ Gateway

### Manga, Chapters, Images API
- –î–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å —á–µ—Ä–µ–∑ Gateway Service –Ω–∞ `/api/manga/*`, `/api/chapters/*`, `/api/images/*`
- –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –≤ Gateway

## ‚ùå –ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–´ –≤ Backend (–ø–æ–º–µ—á–µ–Ω—ã –∑–∞–≥–ª—É—à–∫–∞–º–∏):

### Endpoints, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ backend:
1. `GET /api/auth/reviews/manga/{mangaId}/my` - –ø–æ–ª—É—á–∏—Ç—å –æ—Ç–∑—ã–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –º–∞–Ω–≥–∏
2. `GET /api/auth/progress/chapter/{chapterId}` - –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –¥–ª—è –≥–ª–∞–≤—ã
3. `DELETE /api/auth/progress/chapter/{chapterId}` - —É–¥–∞–ª–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –¥–ª—è –≥–ª–∞–≤—ã
4. –ö–æ–ª–ª–µ–∫—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–ø–æ–∫–∞ –∑–∞–º–µ–Ω–µ–Ω—ã —Å—Ç–∞—Ç—É—Å–∞–º–∏ –∑–∞–∫–ª–∞–¥–æ–∫)
5. –ó–∞–≥—Ä—É–∑–∫–∞ –∞–≤–∞—Ç–∞—Ä–æ–≤
6. –õ–µ–Ω—Ç–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø—Ä–æ—Ñ–∏–ª—è
7. –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ–Ω–æ–≤—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø—Ä–æ—Ñ–∏–ª—è

## ÔøΩ –†–ï–ó–£–õ–¨–¢–ê–¢:

**–ü—Ä–æ–±–ª–µ–º–∞ —Å –ø–æ–ª—É—á–µ–Ω–∏–µ–º –ø—Ä–æ—Ñ–∏–ª–µ–π –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –†–ï–®–ï–ù–ê:**
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É–±–ª–∏—á–Ω—ã–π endpoint `/api/auth/users/{id}/public`
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞ API –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ vs —á—É–∂–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –æ—à–∏–±–æ–∫

**–ö–Ω–æ–ø–∫–∞ "–ò–∑–º–µ–Ω–∏—Ç—å —Ñ–æ–Ω" –£–î–ê–õ–ï–ù–ê:**
- ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ—Ñ–∏–ª—è
- ‚úÖ –ö–æ–¥ –æ—á–∏—â–µ–Ω –æ—Ç –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∏–º–ø–æ—Ä—Ç–æ–≤ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π

## üìã –ü–û–†–¢–´ –°–ï–†–í–ò–°–û–í:

- Gateway: 8080
- MangaService: 8081  
- ChapterService: 8082
- ImageStorageService: 8083
- MelonService: 8084
- AuthService: 8085
- CommentService: 8086
