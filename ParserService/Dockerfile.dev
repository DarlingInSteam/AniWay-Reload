# Development Dockerfile с hot reload
FROM eclipse-temurin:21-jdk-alpine

WORKDIR /app

# Установка Gradle
RUN apk add --no-cache wget unzip && \
    wget https://services.gradle.org/distributions/gradle-8.5-bin.zip && \
    unzip gradle-8.5-bin.zip && \
    rm gradle-8.5-bin.zip && \
    mv gradle-8.5 /opt/gradle && \
    ln -s /opt/gradle/bin/gradle /usr/bin/gradle

# Создаем директории
RUN mkdir -p /app/output /app/temp

# Открываем порт
EXPOSE 8084

# Точка входа для dev режима (запуск с gradle bootRun)
CMD ["gradle", "bootRun", "--continuous"]
